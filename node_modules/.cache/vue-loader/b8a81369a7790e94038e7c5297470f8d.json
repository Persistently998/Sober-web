{"remainingRequest":"/Volumes/MAC1/javaproject/eladmin-web/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/MAC1/javaproject/eladmin-web/src/views/monitor/server/index.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/MAC1/javaproject/eladmin-web/src/views/monitor/server/index.vue","mtime":1619011782551},{"path":"/Volumes/MAC1/javaproject/eladmin-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/MAC1/javaproject/eladmin-web/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/MAC1/javaproject/eladmin-web/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/MAC1/javaproject/eladmin-web/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport ECharts from 'vue-echarts'\nimport 'echarts/lib/chart/line'\nimport 'echarts/lib/component/polar'\nimport { initData } from '@/api/data'\nexport default {\n  name: 'ServerMonitor',\n  components: {\n    'v-chart': ECharts\n  },\n  data() {\n    return {\n      show: false,\n      monitor: null,\n      url: 'api/monitor',\n      data: {},\n      cpuInfo: {\n        tooltip: {\n          trigger: 'axis'\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          data: []\n        },\n        yAxis: {\n          type: 'value',\n          min: 0,\n          max: 100,\n          interval: 20\n        },\n        series: [{\n          data: [],\n          type: 'line',\n          areaStyle: {\n            normal: {\n              color: 'rgb(32, 160, 255)' // 改变区域颜色\n            }\n          },\n          itemStyle: {\n            normal: {\n              color: '#6fbae1',\n              lineStyle: {\n                color: '#6fbae1' // 改变折线颜色\n              }\n            }\n          }\n        }]\n      },\n      memoryInfo: {\n        tooltip: {\n          trigger: 'axis'\n        },\n        xAxis: {\n          type: 'category',\n          boundaryGap: false,\n          data: []\n        },\n        yAxis: {\n          type: 'value',\n          min: 0,\n          max: 100,\n          interval: 20\n        },\n        series: [{\n          data: [],\n          type: 'line',\n          areaStyle: {\n            normal: {\n              color: 'rgb(32, 160, 255)' // 改变区域颜色\n            }\n          },\n          itemStyle: {\n            normal: {\n              color: '#6fbae1',\n              lineStyle: {\n                color: '#6fbae1' // 改变折线颜色\n              }\n            }\n          }\n        }]\n      }\n    }\n  },\n  created() {\n    this.init()\n    this.monitor = window.setInterval(() => {\n      setTimeout(() => {\n        this.init()\n      }, 2)\n    }, 3500)\n  },\n  destroyed() {\n    clearInterval(this.monitor)\n  },\n  methods: {\n    init() {\n      initData(this.url, {}).then(data => {\n        this.data = data\n        this.show = true\n        if (this.cpuInfo.xAxis.data.length >= 8) {\n          this.cpuInfo.xAxis.data.shift()\n          this.memoryInfo.xAxis.data.shift()\n          this.cpuInfo.series[0].data.shift()\n          this.memoryInfo.series[0].data.shift()\n        }\n        this.cpuInfo.xAxis.data.push(data.time)\n        this.memoryInfo.xAxis.data.push(data.time)\n        this.cpuInfo.series[0].data.push(parseFloat(data.cpu.used))\n        this.memoryInfo.series[0].data.push(parseFloat(data.memory.usageRate))\n      })\n    }\n  }\n}\n",null]}