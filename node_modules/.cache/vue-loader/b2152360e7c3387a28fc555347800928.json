{"remainingRequest":"/Volumes/MAC1/javaproject/Sober-web1/node_modules/vue-loader/lib/index.js??vue-loader-options!/Volumes/MAC1/javaproject/Sober-web1/src/views/components/Editor.vue?vue&type=script&lang=js&","dependencies":[{"path":"/Volumes/MAC1/javaproject/Sober-web1/src/views/components/Editor.vue","mtime":1619011782542},{"path":"/Volumes/MAC1/javaproject/Sober-web1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/MAC1/javaproject/Sober-web1/node_modules/babel-loader/lib/index.js","mtime":315532800000},{"path":"/Volumes/MAC1/javaproject/Sober-web1/node_modules/cache-loader/dist/cjs.js","mtime":499162500000},{"path":"/Volumes/MAC1/javaproject/Sober-web1/node_modules/vue-loader/lib/index.js","mtime":499162500000}],"contextDependencies":[],"result":["//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\nimport { mapGetters } from 'vuex'\nimport { upload } from '@/utils/upload'\nimport E from 'wangeditor'\nexport default {\n  name: 'Editor',\n  data() {\n    return {\n      editorContent:\n        `\n        <ul>\n          <li>更多帮助请查看官方文档：<a style=\"color: #42b983\" target=\"_blank\" href=\"https://www.kancloud.cn/wangfupeng/wangeditor3/332599\">wangEditor</a></li>\n        </ul>\n        `\n    }\n  },\n  computed: {\n    ...mapGetters([\n      'imagesUploadApi',\n      'baseApi'\n    ])\n  },\n  mounted() {\n    const _this = this\n    var editor = new E(this.$refs.editor)\n    // 自定义菜单配置\n    editor.customConfig.zIndex = 10\n    // 文件上传\n    editor.customConfig.customUploadImg = function(files, insert) {\n      // files 是 input 中选中的文件列表\n      // insert 是获取图片 url 后，插入到编辑器的方法\n      files.forEach(image => {\n        upload(_this.imagesUploadApi, image).then(res => {\n          const data = res.data\n          const url = _this.baseApi + '/file/' + data.type + '/' + data.realName\n          insert(url)\n        })\n      })\n    }\n    editor.customConfig.onchange = (html) => {\n      this.editorContent = html\n    }\n    editor.create()\n    // 初始化数据\n    editor.txt.html(this.editorContent)\n  }\n}\n",null]}